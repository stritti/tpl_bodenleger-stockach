/*! tpl_bodenleger-stockach 28-07-2014 */
!function(a){String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})};var b=a("<ul class='sm-slider'></ul>"),c={init:function(c){var d={src:[],scaling:1.17,rotating:3,duration:6,fade:2,overlay:"images/pattern.png"};a.extend(d,c),this.options=d;var e=this.mkcss(d.src.length,d.duration,d.fade);a('<style type="text/css"></style>').html(e).appendTo("head"),b.html(this.mkhtml(d.src)).prependTo("body")},mkhtml:function(a){for(var b="",c="<li><span></span><div><h3>%title%</h3></div></li>",d=0,e=a.length;e>d;d++){var f=a[d].title?a[d].title:"";b+=c.replace("%title%",f)}return b},mkcss:function(a,b,c){var d=b*a,e=c/d*100,f=b/d*100,g=f+.6*e,h=f+.3*e,i="@keyframes imageAnimation {0% {opacity: 0;animation-timing-function: ease-in;}{0}% {opacity: 1;}{1}% {opacity: 1;}{2}% {opacity: 0; animation-timing-function: ease-out;transform: scale(1.17) translateY(-4%) rotateZ(3deg);}100% { opacity: 0;transform: scale(1.17) translateY(-4%) rotateZ(3deg); }} @keyframes titleAnimation {0% { opacity: 0;transform: translateY(-200px); }{0}% { opacity: 1;transform: translateY(0%); }{1}% { opacity: 1;transform: translateY(0%); }{3}% { opacity: 0; transform: scale(0.4) translateY(100%); }100% { opacity: 0; }}".format(e,f,g,h),j="",k="",l=this.options.src;j=".sm-slider,.sm-slider:after { margin: 0;padding: 0;list-style: none;position: fixed;width: 100%;height: 100%;top: 0px;left: 0px;z-index: -1; }",j+=this.options.overlay===!1?".sm-slider:after { content: '';background: transparent; z-index: 0; }.sm-slider li span { width: 100%;height: 100%;position: absolute;top: 0px;left: 0px;color: transparent;background-size: cover;background-position: 50% 50%;background-repeat: none;opacity: 0;z-index: 0;animation: imageAnimation {0}s linear infinite 0s; }.sm-slider li div { z-index: 1000;position: absolute;bottom: 30px;left: 0px;width: 100%;text-align: center;opacity: 0;color: #fff;animation: titleAnimation {0}s linear infinite 0s; }".format(d):".sm-slider:after { content: '';background: transparent url({0}) repeat top left;z-index: 0; }.sm-slider li span { width: 100%;height: 100%;position: absolute;top: 0px;left: 0px;color: transparent;background-size: cover;background-position: 50% 50%;background-repeat: none;opacity: 0;z-index: 0;animation: imageAnimation {1}s linear infinite 0s; }.sm-slider li div { z-index: 1000;position: absolute;bottom: 30px;left: 0px;width: 100%;text-align: center;opacity: 0;color: #fff;animation: titleAnimation {1}s linear infinite 0s; }".format(this.options.overlay,d),k=i+j;for(var m=0;a>m;m++){var n=l[m];k+=".sm-slider li:nth-child({0}) span { background-image: url('{1}');animation-delay: {2}s; } .sm-slider li:nth-child({0}) div { animation-delay: {2}s; }".format(m+1,n.url,b*m)}return this.options.rotating===!1&&this.options.scaling===!1?k=k.replace(/transform.*?;/g,""):this.options.rotating===!1?k=k.replace(/rotateZ\(.*?deg\)/g,""):this.options.scaling===!1&&(k=k.replace(/scale\(.*?\)/g,"")),this.options.rotating&&(k=k.replace(/rotateZ\(.*?\)/g,"rotateZ({0}deg)".format(this.options.rotating))),this.options.scaling&&(k=k.replace(/scale\(.*?\)/g,"scale({0})".format(this.options.scaling))),k=this.addPrefix(k)},addPrefix:function(a){var b=/@(keyframes[\s\S]*?100%.*?\{[\s\S]*?\}[\s\S]*?\})/g,c=/(?:animation|transform)[:-].*?;/g;return a=a.replace(b,"@-webkit-$1 @-moz-$1 @-ms-$1 @-o-$1 @$1").replace(c,"-webkit-$& -moz-$& -ms-$& -o-$& $&")}};a.sublime_slideshow=function(a){c.init(a)}}(jQuery);